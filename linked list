# linked_list.py

class Node:
    """
    Een Node is een enkel element van een linked list.
    Elk node bevat data en een verwijzing naar de volgende node.
    """
    def __init__(self, data):
        self.data = data
        self.next = None


class LinkedList:
    """
    LinkedList class ondersteunt basisoperaties zoals:
    - toevoegen van elementen (begin, einde, positie)
    - verwijderen van elementen
    - zoeken naar elementen
    - printen van de lijst
    - lengte van de lijst
    """
    
    def __init__(self):
        self.head = None  # start van de lijst

    # --- Toevoegen van nodes ---
    def append(self, data):
        """Voeg een node toe aan het einde van de lijst."""
        new_node = Node(data)
        if not self.head:
            self.head = new_node
            return
        last = self.head
        while last.next:
            last = last.next
        last.next = new_node

    def prepend(self, data):
        """Voeg een node toe aan het begin van de lijst."""
        new_node = Node(data)
        new_node.next = self.head
        self.head = new_node

    def insert_after_node(self, prev_node, data):
        """Voeg een node toe na een gegeven node."""
        if not prev_node:
            print("Previous node is not in the list")
            return
        new_node = Node(data)
        new_node.next = prev_node.next
        prev_node.next = new_node

    # --- Verwijderen van nodes ---
    def delete_node(self, key):
        """Verwijder de eerste node met de opgegeven waarde."""
        current = self.head

        # Als de head de key bevat
        if current and current.data == key:
            self.head = current.next
            current = None
            return

        prev = None
        while current and current.data != key:
            prev = current
            current = current.next

        if current is None:
            print("Node not found")
            return

        prev.next = current.next
        current = None

    def delete_node_at_pos(self, pos):
        """Verwijder node op een bepaalde positie (0-gebaseerd)."""
        if not self.head:
            return

        current = self.head

        if pos == 0:
            self.head = current.next
            current = None
            return

        prev = None
        count = 0
        while current and count != pos:
            prev = current
            current = current.next
            count += 1

        if not current:
            print("Position out of bounds")
            return

        prev.next = current.next
        current = None

    # --- Zoeken ---
    def search(self, key):
        """Zoek naar een waarde in de lijst. Return True/False."""
        current = self.head
        while current:
            if current.data == key:
                return True
            current = current.next
        return False

    # --- Overige methodes ---
    def length(self):
        """Geef de lengte van de lijst terug."""
        count = 0
        current = self.head
        while current:
            count += 1
            current = current.next
        return count

    def print_list(self):
        """Print de gehele linked list."""
        current = self.head
        ll_str = ""
        while current:
            ll_str += str(current.data) + " -> "
            current = current.next
        ll_str += "None"
        print(ll_str)


# --- Voorbeeld gebruik ---
if __name__ == "__main__":
    ll = LinkedList()
    ll.append(10)
    ll.append(20)
    ll.append(30)
    ll.prepend(5)
    ll.print_list()  # Output: 5 -> 10 -> 20 -> 30 -> None

    print("Length:", ll.length())  # Output: Length: 4
    print("Search 20:", ll.search(20))  # Output: True
    print("Search 40:", ll.search(40))  # Output: False

    ll.delete_node(10)
    ll.print_list()  # Output: 5 -> 20 -> 30 -> None

    ll.delete_node_at_pos(1)
    ll.print_list()  # Output: 5 -> 30 -> None



LINKED LISTS:

class Node:
    def __init__(self, e):
        self.element = e
        self.next = None

class LinkedList:
    def __init__(self):
        # Creates an empty linked list
        self.head = None
        self.tail = None
        self.size = 0

    # Adds a new element to the head of the list
    def addFirst(self, e):
        newNode = Node(e)
        newNode.next = self.head
        self.head = newNode
        self.size += 1
        if self.tail is None:
            self.tail = self.head

    # Adds a new element to the tail of the list
    def addLast(self, e):
        newNode = Node(e)
        if self.tail is None:
            self.head = self.tail = newNode
        else:
            self.tail.next = newNode
            self.tail = self.tail.next
        self.size += 1

    # Same as addLast(e)
    def add(self, e):
        self.addLast(e)

    # Returns the first element in the list
    def getFirst(self):
        if self.size == 0:
            return None
        return self.head.element

    # Returns the last element in the list
    def getLast(self):
        if self.size == 0:
            return None
        return self.tail.element

    # Removes the first element from the list
    def removeFirst(self):
        if self.size == 0:
            return None
        temp = self.head
        self.head = self.head.next
        self.size -= 1
        if self.head is None:
            self.tail = None
        return temp.element

    # Removes the last element from the list
    def removeLast(self):
        if self.size == 0:
            return None
        elif self.size == 1:
            temp = self.head
            self.head = self.tail = None
            self.size = 0
            return temp.element
        else:
            current = self.head
            for _ in range(self.size - 2):
                current = current.next
            temp = self.tail
            self.tail = current
            self.tail.next = None
            self.size -= 1
            return temp.element

    # Adds a new element at the specified index
    def insert(self, index, e):
        if index <= 0:
            self.addFirst(e)
        elif index >= self.size:
            self.addLast(e)
        else:
            current = self.head
            for _ in range(1, index):
                current = current.next
            temp = current.next
            current.next = Node(e)
            current.next.next = temp
            self.size += 1

    # Removes all the elements from this list
    def clear(self):
        self.head = self.tail = None
        self.size = 0

    # Returns True if this list contains the element
    def contains(self, e):
        current = self.head
        while current:
            if current.element == e:
                return True
            current = current.next
        return False

    # Returns the element at the specified index
    def get(self, index):
        if index < 0 or index >= self.size:
            return None
        current = self.head
        for _ in range(index):
            current = current.next
        return current.element

    # Returns the index of the first matching element
    def indexOf(self, e):
        current = self.head
        idx = 0
        while current:
            if current.element == e:
                return idx
            current = current.next
            idx += 1
        return -1

    # Returns the index of the last matching element
    def lastIndexOf(self, e):
        current = self.head
        idx = 0
        last_index = -1
        while current:
            if current.element == e:
                last_index = idx
            current = current.next
            idx += 1
        return last_index

    # Returns True if this list contains no elements
    def isEmpty(self):
        return self.size == 0

    # Returns the number of elements in this list
    def getSize(self):
        return self.size

    # Removes the element from this list
    def remove(self, e):
        if self.size == 0:
            return False
        if self.head.element == e:
            self.removeFirst()
            return True

        previous = self.head
        current = self.head.next
        while current:
            if current.element == e:
                previous.next = current.next
                if current == self.tail:
                    self.tail = previous
                self.size -= 1
                return True
            previous, current = current, current.next
        return False

    # Removes the element at the specified index and returns it
    def removeAt(self, index):
        if index < 0 or index >= self.size:
            return None
        if index == 0:
            return self.removeFirst()
        elif index == self.size - 1:
            return self.removeLast()
        else:
            previous = self.head
            for _ in range(1, index):
                previous = previous.next
            current = previous.next
            previous.next = current.next
            self.size -= 1
            return current.element

    # Sets the element at the specified index and returns the replaced element
    def set(self, index, e):
        if index < 0 or index >= self.size:
            return None
        current = self.head
        for _ in range(index):
            current = current.next
        old_value = current.element
        current.element = e
        return old_value

    # Returns an iterator for this linked list
    def __iter__(self):
        return LinkedListIterator(self.head)

    # Returns a string representation of the list
    def __str__(self):
        result = "["
        current = self.head
        while current:
            result += str(current.element)
            current = current.next
            if current:
                result += ", "
        result += "]"
        return result


class Node:
    """Node class for LinkedList."""
    def __init__(self, e):
        self.element = e
        self.next = None


class LinkedListIterator:
    """Iterator for LinkedList."""
    def __init__(self, head):
        self.current = head

    def __next__(self):
        if self.current is None:
            raise StopIteration
        element = self.current.element
        self.current = self.current.next
        return element

    def __iter__(self):
        return self





